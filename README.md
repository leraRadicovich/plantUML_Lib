# plantUML_Lib
Библиотека для построения сиквенс-диаграмм. Версия 1.5

TODO Добавить процедуру opt
TODO Добавить процедуру group
TODO Добавить процедуру par
TODO Написать вспомогательные процедуры, которые будут рисовать код, спрятанный в процедурах библиотеки
TODO Написать мануал, как пользоваться библиотекой
TODO Подготовить митап
TODO Написать библиотеки для UseCase и Activity диаграмм
TODO Перенести библиотеку в GIT


        1. CОДЕРЖАНИЕ
1. ТУДУШКИ И СПИСОК ИЗМЕНЕНИЙ
2. СЛУЖЕБНЫЕ ПРОЦЕДУРЫ
3. ПРОЦЕДУРЫ РАБОТЫ С УЧАСТНИКАМИ ПРОЦЕССА И СПИСОК УЧАСТНИКОВ
4. ПЕРЕМЕННЫЕ, ИСПОЛЬЗУЕМЫЕ ВО ВСЕХ ФУНКЦИЯХ И ПРОЦЕДУРАХ - ГЛБАЛЬНЫЕ ПЕРЕМЕННЫЕ
5. ПРОЦЕДУРЫ ВЗАИМОДЕЙСТИЯ
6. ПАРАМЕТРЫ СТИЛЯ

        2. СЛУЖЕБНЫЕ ПРОЦЕДУРЫ

1. DIAGRAMM($title) Функция-инициатор, инициирует процедуры добавления компонентов и групп-компонентов
   Принимает на вход заголовок диаграммы, создает группы компонетов-участников диаграммы из
   JSON $data
2. Процедура LEGEND автоматически добавляет на диагрмму блок легенда с текстовым описанием процесса
   Не работает при указании в диаграмме ленедны в явном текстовом виде (функция из коробки PlantUml)
3. Процедура NOTE автоматически добавляет на диагрмму блок note - заметка, с текстовым описанием процесса,
   Если на вход ничего не передано или 0 - формирует таблицу c текстовым описание процесса,
   если на вход передан параметр 1 - формирует JSON-строку,
   если на вход передан параметр 2 - формирует текст с разделителем ";"

        3. ПРОЦЕДУРЫ РАБОТЫ С УЧАСТНИКАМИ ПРОЦЕССА И СПИСОК УЧАСТНИКОВ

1. addComponent($type="participant", $component, $as, $order=0)
   Процедура добавления компонентов,
   на вход приниматет заголовок и Alias компонента

2. addBox($box, $color, $dataSet="", $type="participant", $component="", $as="", $order=0)
   Процедура добавления групп-компонентов (box), на вход принимает заголовок, цвет
   и необязательнные параметры: $dataSet, $component и $as
   Если указан $dataSet - будет создан box для указанного датасета,
   иначе необходимо указать $component и $as для компонентов кастомного box

3. $data - json с компонентами и участниками на диаграмме

        4. ПЕРЕМЕННЫЕ, ИСПОЛЬЗУЕМЫЕ ВО ВСЕХ ФУНКЦИЯХ И ПРОЦЕДУРАХ - ГЛБАЛЬНЫЕ ПЕРЕМЕННЫЕ

   1. Счетчик отображаемой (программной) автонумерации стрелок
   !global $counter = 0

   2. Счетчик сквозной автонумерации всех вызовов, технический
   !global $techCounter = 0

   3. Счетчик донорских стрелок в КЭШе
   !global $donorCounter = 0

   4. Дефолтный цвет для альта
   !global $altColor = "#chocolate"
   !global $altColorStep = 15

   5. Счетчик вложенности альтов
   !global $altLevel = 0

   6. Программный КЭШ донорских стрелок
   !global $cash = ""

   7. Буферная переменная для построения карты процесса в табличном виде и в виде текста с разделителем.
   См. процедуры LEGEND, NOTE
   !global $tableProcessDescription="| №\n | id | Инициатор\n | Исполнитель\n | Вызов/Метод\n | Комментарий\n |"
   !global $csvProcessDescription="№;id;Инициатор;Исполнитель;Вызов/метод;Комментарий"

        
        5. ПРОЦЕДУРЫ ВЗАИМОДЕЙСТИЯ

  1. $processDescriptionBuilder($bufferCounter, $initiator, $executor, ACTION $liveLine="", $comment="")
     Процедура построения стрелок и описания в карте процессов NOTE() и LEGEND()

  2. ACTION($initiator, $executor, ACTION, $liveLine="", $comment="")
     Процедура для описания взаимодействия между участниками процесса, для добавления стрелок вызывает процедуру $processDescriptionBuilder
     использует счетчик $counter для подсчета стрелок.

  3. ALT($condition, $donor, $color="")
     Процедура для описания альтернативного взаимодействия между участниками процесса,
     Процедура рисует альтернативу указанной донорской стрелке
     Максимальная глубина вложенности, при которой счетчики работают корректно равна 25 (В английском алфавите 25 символов).

  4. ELSE_ALT($condition, $color="")
     Процедура для описания еще одного альтернативного взаимодействия на текущем уровне альта.

  5. END_ALT()
     Процедура, закрывающая уровень альтернативного взаимодействия.

  6. $cashApi($method, $level="", $donor="")
     Процедура для создания, удаления, чтения КЭШ, принимает на вход параметр method,
     который указывает что делаем с записью, уровень вложенности и номер донорской стрелки
